<!DOCTYPE html>
<html lang="vi">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Thông Tin Cá Nhân - Nhân Viên</title>
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="../../css/style.css">
    <link rel="stylesheet" href="../../css/navbar.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
    <style>
        /* Sử dụng lại các style từ trang profile của trưởng phòng */
        .profile-section {
            background: white;
            padding: 30px;
            border-radius: 8px;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.05);
            margin-bottom: 20px;
        }

        .profile-header {
            text-align: center;
            margin-bottom: 30px;
        }

        .main-content {
            padding: 20px;
            height: 100vh;
            /* overflow: hidden; */
            display: flex;
            flex-direction: column;
        }

        .profile-avatar {
            width: 150px;
            height: 150px;
            border-radius: 50%;
            margin-bottom: 20px;
            object-fit: cover;
            border: 5px solid #f8f9fa;
            box-shadow: 0 2px 5px rgba(0, 0, 0, 0.1);
        }

        .profile-info label {
            font-weight: 600;
            color: #34495e;
        }

        .profile-info .form-control:disabled {
            background-color: #f8f9fa;
            cursor: not-allowed;
        }

        .btn-edit {
            background-color: #3498db;
            color: white;
        }

        .btn-edit:hover {
            background-color: #2980b9;
            color: white;
        }

        .change-password-section {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 8px;
            margin-top: 20px;
        }

        .error-message {
            font-size: 0.875rem;
            color: #dc3545;
            margin-top: 0.25rem;
        }

        .form-control.is-invalid {
            border-color: #dc3545;
            padding-right: calc(1.5em + 0.75rem);
            background-image: url("data:image/svg+xml,%3csvg xmlns='http://www.w3.org/2000/svg' width='12' height='12' fill='none' stroke='%23dc3545' viewBox='0 0 12 12'%3e%3ccircle cx='6' cy='6' r='4.5'/%3e%3cpath stroke-linejoin='round' d='M5.8 3.6h.4L6 6.5z'/%3e%3ccircle cx='6' cy='8.2' r='.6' fill='%23dc3545' stroke='none'/%3e%3c/svg%3e");
            background-repeat: no-repeat;
            background-position: right calc(0.375em + 0.1875rem) center;
            background-size: calc(0.75em + 0.375rem) calc(0.75em + 0.375rem);
        }

        .alert {
            border-radius: 4px;
            padding: 15px;
            margin-bottom: 20px;
        }

        .alert-info {
            background-color: #d1ecf1;
            border-color: #bee5eb;
            color: #0c5460;
        }

        code {
            background-color: rgba(0, 0, 0, 0.05);
            padding: 2px 4px;
            border-radius: 3px;
            color: #e83e8c;
        }
    </style>
</head>

<body>
    <nav class="sidebar">
        <div class="user-info text-center">
            <h3>Nhân viên</h3>
            <p id="employeeName">Chào mừng bạn!</p>
        </div>
        <ul class="nav-links">
            <li><a href="dashboard.html"><i class="fas fa-home"></i><span>Trang chủ</span></a></li>
            <li><a href="salary-and-tax-report.html"><i class="fas fa-file-alt"></i><span>Xem lương và thuế
                        TNCN</span></a></li>
            <li><a href="annual-tax-report.html"><i class="fas fa-money-bill-wave"></i><span>Xem quyết toán thuế thu
                        nhập cả năm</span></a></li>
            <li><a href="profile.html" class="active"><i class="fas fa-user"></i><span>Thông tin cá nhân</span></a></li>
            <li><a href="tax-calculator.html"><i class="fas fa-calculator"></i> <span>Tính thử thuế
                        TNCN</span></a></li>
            <li><a href="../../index.html" id="logoutBtn"><i class="fas fa-sign-out-alt"></i><span>Đăng xuất</span></a>
            </li>
        </ul>
    </nav>

    <main class="main-content">
        <div class="d-block d-md-none">
            <button id="toggleMenu" class="btn btn-primary mb-3">
                <i class="fas fa-bars"></i>
            </button>
        </div>

        <header class="top-bar">
            <h1><i class="fas fa-user-circle"></i> Thông Tin Cá Nhân</h1>
        </header>

        <div class="container">
            <div class="profile-section">
                <div class="profile-header">
                    <img src="../../assets/images/avatar-default.png" alt="Avatar" class="profile-avatar"
                        id="profileAvatar">
                    <h3 id="profileName">Hoàng Trọng Đức</h3>
                    <p class="text-muted" id="profilePosition">Nhân viên kế toán</p>
                </div>

                <form id="profileForm" class="profile-info">
                    <div class="row">
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-id-card"></i> Mã nhân viên</label>
                                <input type="text" class="form-control" id="employeeId" disabled>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-user"></i> Họ và tên</label>
                                <input type="text" class="form-control" id="fullName" disabled>
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-envelope"></i> Email</label>
                                <input type="email" class="form-control" id="email">
                            </div>
                        </div>
                        <div class="col-md-6">
                            <div class="form-group">
                                <label><i class="fas fa-phone"></i> Số điện thoại</label>
                                <input type="tel" class="form-control" id="phone">
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-map-marker-alt"></i> Địa chỉ</label>
                                <input type="text" class="form-control" id="address">
                            </div>
                            <div class="form-group">
                                <label><i class="fas fa-file-invoice"></i> Mã số thuế</label>
                                <input type="text" class="form-control" id="taxId" disabled>
                            </div>
                        </div>
                    </div>

                    <div class="text-center mt-4">
                        <button type="button" class="btn btn-edit" id="editProfileBtn">
                            <i class="fas fa-edit"></i> Chỉnh sửa thông tin
                        </button>
                        <button type="submit" class="btn btn-success d-none" id="saveProfileBtn">
                            <i class="fas fa-save"></i> Lưu thay đổi
                        </button>
                        <button type="button" class="btn btn-secondary d-none" id="cancelEditBtn">
                            <i class="fas fa-times"></i> Hủy
                        </button>
                    </div>

                    <div class="change-password-section">
                        <h4 class="mb-4"><i class="fas fa-lock"></i> Đổi mật khẩu</h4>
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Mật khẩu hiện tại</label>
                                    <input type="password" class="form-control" id="currentPassword">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Mật khẩu mới</label>
                                    <input type="password" class="form-control" id="newPassword">
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Xác nhận mật khẩu mới</label>
                                    <input type="password" class="form-control" id="confirmPassword">
                                </div>
                            </div>
                        </div>
                        <div class="text-center">
                            <button type="button" class="btn btn-primary" id="changePasswordBtn">
                                <i class="fas fa-key"></i> Đổi mật khẩu
                            </button>
                        </div>
                    </div>
                </form>
            </div>
        </div>
    </main>

    <script src="https://code.jquery.com/jquery-3.5.1.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.5.4/dist/umd/popper.min.js"></script>
    <script src="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="../../js/employee-profile.js"></script>
</body>

</html>